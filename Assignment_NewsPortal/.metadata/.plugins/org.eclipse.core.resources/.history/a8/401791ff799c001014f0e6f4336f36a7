<%@ page contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="jakarta.tags.core" %>
<%@ include file="../layout/header.jsp" %>

<div class="container" style="max-width:880px;margin:24px auto;">
  <h2>Đăng bài viết</h2>

  <c:if test="${not empty error}">
    <div class="alert error">${error}</div>
  </c:if>

  <form method="post" action="${pageContext.request.contextPath}/reporter/post-create"
        enctype="multipart/form-data" class="form">
    <label>Tiêu đề</label>
    <input type="text" name="title" required>

    <label>Chuyên mục</label>
    <select name="categoryId" required>
      <c:forEach var="c" items="${categories}">
        <option value="${c.id}">${c.name}</option>
      </c:forEach>
    </select>

    <label>Nội dung</label>
    <textarea name="content" rows="12" required></textarea>

    <div class="grid-2">
      <div>
        <label>Upload ảnh (tùy chọn)</label>
        <input type="file" name="imageFile" accept="image/*">
      </div>
      <div>
        <label>Hoặc URL ảnh</label>
        <input type="url" name="imageUrl" placeholder="https://...">
      </div>
    </div>

    <label class="checkbox">
      <input type="checkbox" name="home"> Hiển thị trên trang chủ
    </label>

    <div class="actions">
      <button class="btn" type="submit">Gửi duyệt</button>
      <a class="btn ghost" href="${pageContext.request.contextPath}/reporter/dashboard">Hủy</a>
    </div>
  </form>
</div>

<%@ include file="../layout/footer.jsp" %>
